image:
  file: .gitpod.Dockerfile

tasks:
  - name: å‡†å¤‡å®éªŒç¯å¢ƒ
    init: |
      echo "ğŸš€ å¼€å§‹è®¾ç½® Jenkins CI/CD å®éªŒç¯å¢ƒ..."
      echo "â³ è¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿ..."
    command: |
      # æ˜¾ç¤ºç¯å¢ƒä¿¡æ¯
      echo "========================================"
      echo "ğŸ“Š ç¯å¢ƒä¿¡æ¯"
      echo "========================================"
      echo "ç³»ç»Ÿ: $(uname -a)"
      echo "Java: $(java -version 2>&1 | head -1)"
      echo "Maven: $(mvn -version 2>&1 | head -1)"
      echo "Docker: $(docker --version)"
      echo "Git: $(git --version)"
      echo "========================================"
      echo ""
      echo "âœ… ç¯å¢ƒå‡†å¤‡å®Œæˆï¼"
      echo ""
      echo "ğŸ“‹ å¯ç”¨å‘½ä»¤:"
      echo "   start-jenkins    - å¯åŠ¨ Jenkins æœåŠ¡å™¨"
      echo "   stop-jenkins     - åœæ­¢ Jenkins æœåŠ¡å™¨"
      echo "   setup-project    - è®¾ç½®ç¤ºä¾‹é¡¹ç›®"
      echo "   show-help        - æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯"

vscode:
  extensions:
    - redhat.java
    - vscjava.vscode-java-pack
    - ms-azuretools.vscode-maven
    - ms-azuretools.vscode-docker
    - GitHub.vscode-pull-request-github
    - oderwat.indent-rainbow

ports:
  - port: 8080
    onOpen: open-preview
    description: "Jenkins æ§åˆ¶å°"
  - port: 3000
    onOpen: open-preview
    description: "ç¤ºä¾‹åº”ç”¨"
  - port: 50000
    description: "Jenkins Agent ç«¯å£"

github:
  prebuilds:
    master: true
    branches: true
    pullRequests: true
    pullRequestsFromForks: true
    addCheck: true
    addComment: false
    addBadge: true
